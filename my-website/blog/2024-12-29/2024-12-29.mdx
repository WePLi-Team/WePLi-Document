---
slug: Apple Music API 사용기
title: 음악 API를 찾고 활용하기까지의 과정
authors: [donghyeon]
tags: [WePLi, MusicApp]
---

<!-- truncate -->

이번 글에선 WePLi에서 음악 Apple Music API를 채택하게 된 계기부터 사용 방법까지 얘기해보고자 합니다.

<br/>

### 음악 데이터 구축의 필요성

음악과 관련된 서비스라면 음악을 검색할 수 있는 기능은 필수입니다.  
약 1억개 이상의 음악과 새로 추가되는 신곡까지, 이 모든 데이터를 개인이 어떻게 활용할 수 있을까요?

학부 시절 초기 WePLi(Java Swing 버전) 개발 당시 이는 가장 큰 문제점 중 하나였습니다.  
현재 WePLi 앱에선 제거된 기획이지만, 최초의 WePLi에는 여러 음악 플랫폼의 인기 차트를 합쳐 통합 인기 차트를 제공하는 기능이 있었습니다.

<div align="center">
    ![검색 화면 예시](./wepli_chart_screen.png)
    <p align="center">
        WePLi(Java Swing) 차트 화면
    </p>
</div>

이를 구현하기 위해 국내 플랫폼(멜론, 지니, 벅스 등)을 타겟으로 정했지만 국내 플랫폼에선 API를 제공하고 있지 않기 때문에 크롤링으로 개발을 진행했었습니다.

물론, Java Swing으로 개발했던 WePLi는 배포 계획이 없었기 때문에 크롤링으로 진행해도 문제가 없었지만,
WePLi 앱은 배포까지 계획하고 있기 때문에 API의 필요성을 느끼게 되었습니다.

따라서 이번 글에선 음악 API 선택시 고려했던 것들과 사용 방법 등을 간략하게 정리해보고자 합니다.


<br/>

### 음악 API 선택시 고려했던 것들

WePLi에선 검색 기능뿐만 아니라 사용자끼리 노래를 공유하고, 게시글에 노래를 첨부할 수 있는 다양한 기능이 기획 되어 있습니다.  

이런 기능들을 구현하기 위해서 저는 음악 API를 찾기 시작했습니다.

![검색 화면 예시](./search_screen.png)

우선 음악 API를 선택할 당시 고려한 사항은 아래와 같습니다.

- **필수 기능**  
• 검색 기능 제공  
• 한국 노래 제공  
• 무료 또는 저렴한 가격  

- **부가 기능**  
• 추천 서비스(검색어,플레이리스트 등) 제공  


위 조건으로 API를 찾던 중, 가장 흔히 사용되는 API 서비스 2개가 눈에 들어왔습니다.

- • Spotify API [[링크]](https://developer.spotify.com/terms)
- • Apple Music API [[링크]](https://developer.apple.com/documentation/applemusicapi)

<br/>

두 서비스를 표로 비교해보면 아래와 같습니다.

|                 |   Spotify   | Apple Music |
|-----------------|-------------|-------------|
| 검색 기능 제공 여부 | O            | O           |
| 국내 노래 제공 여부 | X (영어로 제공) | O           |
| 가격             | 무료          | 연 13만원     |

표에서 알 수 있듯이 Spotify API의 경우 많은 데이터뿐만 아니라 무료라는 엄청난 장점이 있는 API였지만, 단점도 명확했습니다.

1. • 최신 노래를 제외한 한국 노래들이 영어로 등록 되어있다는 점
2. • Spotify 로그인을 필수로 제공해야한다는 점

WePLi의 주요 타겟층은 **국내 트렌드에 민감한 10-20대** 사용자입니다.  
10-20대가 주 타겟층인 앱에서 **대부분의 노래가 영어**로만 제공이 된다면 **앱의 매력이 많이 떨어질 것** 같다는 생각이 들었습니다.

조금이라도 완성도가 높은 앱을 만들고 싶다는 생각에 연 13만원의 비용을 지불하더라도 Apple Music API를 선택하였습니다.